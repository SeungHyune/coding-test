# **연속 부분 수열 합의 개수**

[문제 링크](https://school.programmers.co.kr/learn/courses/30/lessons/131701)

### 문제 설명

철호는 수열을 가지고 놀기 좋아합니다. 어느 날 철호는 어떤 자연수로 이루어진 원형 수열의 연속하는 부분 수열의 합으로 만들 수 있는 수가 모두 몇 가지인지 알아보고 싶어졌습니다. 원형 수열이란 일반적인 수열에서 처음과 끝이 연결된 형태의 수열을 말합니다. 예를 들어 수열 [7, 9, 1, 1, 4] 로 원형 수열을 만들면 다음과 같습니다.

원형 수열은 처음과 끝이 연결되어 끊기는 부분이 없기 때문에 연속하는 부분 수열도 일반적인 수열보다 많아집니다.

원형 수열의 모든 원소 `elements`가 순서대로 주어질 때, 원형 수열의 연속 부분 수열 합으로 만들 수 있는 수의 개수를 return 하도록 solution 함수를 완성해주세요.

<br/>

### 제한사항

- 3 ≤ `elements`의 길이 ≤ 1,000
- 1 ≤ `elements`의 원소 ≤ 1,000

<br/>

### **입출력 예**

| elements    | result |
| ----------- | ------ |
| [7,9,1,1,4] | 18     |

<br/>

### **입출력 예 설명**

- 입출력 예 #1
  - 길이가 1인 연속 부분 수열로부터 [1, 4, 7, 9] 네 가지의 합이 나올 수 있습니다.
  - 길이가 2인 연속 부분 수열로부터 [2, 5, 10, 11, 16] 다섯 가지의 합이 나올 수 있습니다.
  - 길이가 3인 연속 부분 수열로부터 [6, 11, 12, 17, 20] 다섯 가지의 합이 나올 수 있습니다.
  - 길이가 4인 연속 부분 수열로부터 [13, 15, 18, 21] 네 가지의 합이 나올 수 있습니다.
  - 길이가 5인 연속 부분 수열로부터 [22] 한 가지의 합이 나올 수 있습니다.
  - 이들 중 중복되는 값을 제외하면 다음과 같은 18가지의 수들을 얻습니다.
  - [1, 2, 4, 5, 6, 7, 9, 10, 11, 12, 13, 15, 16, 17, 18, 20, 21, 22]

<br/>

### 📕 문제 포인트

1. `elements` 복사본 배열 `arr`를 생성합니다.
   - 이 배열은 연속 부분 수열의 합을 저장하는 데 사용됩니다.
2. 첫 번째 `for 문` 순회를 통해 2부터 n까지 탐색합니다. (각 길이에 대해 연속 부분 수열의 합을 계산합니다.)
3. 두 번째 `for 문` 순회는 0부터 n까지 반복하며, 모든 시작 인덱스에 대해 부분 수열의 합을 계산합니다.
4. 부분 수열 합은 `sum` 변수를 초기화하여 현재 부분 수열의 합을 저장합니다.
   - k는 시작 인덱스 j에서 시작하여, 현재 부분 수열의 길이 i 만큼 합산합니다.
   - `elements[k % n]`는 배열이 원형처럼 동작하도록 하여, 인덱스 k가 배열의 길이를 초과할 경우 처음부터 다시 합산하게 합니다.
   - k가 `i + j`에 도달하면 반복을 종료합니다.
5. 부분 수열의 합 `sum` 을 `arr` 배열에 추가합니다.
6. `Set` 객체를 사용해 `arr` 배열의 중복된 합을 제거합니다.

### 📝 문제 풀이

```js
function solution(elements) {
  let arr = [...elements];
  let n = elements.length;
  for (let i = 2; i <= n; i++) {
    for (let j = 0; j < n; j++) {
      let sum = 0;
      let k = j;
      while (true) {
        sum += elements[k % n];
        k++;
        if (k === i + j) break;
      }
      arr.push(sum);
    }
  }

  let set = new Set(arr);
  return set.size;
}
```
