# 괄호 회전하기

[문제 링크](https://school.programmers.co.kr/learn/courses/30/lessons/76502)

### 문제설명

다음 규칙을 지키는 문자열을 올바른 괄호 문자열이라고 정의합니다.

- `()`, `[]`, `{}` 는 모두 올바른 괄호 문자열입니다.
- 만약 `A`가 올바른 괄호 문자열이라면, `(A)`, `[A]`, `{A}` 도 올바른 괄호 문자열입니다. 예를 들어, `[]` 가 올바른 괄호 문자열이므로, `([])` 도 올바른 괄호 문자열입니다.
- 만약 `A`, `B`가 올바른 괄호 문자열이라면, `AB` 도 올바른 괄호 문자열입니다. 예를 들어, `{}` 와 `([])` 가 올바른 괄호 문자열이므로, `{}([])` 도 올바른 괄호 문자열입니다.

대괄호, 중괄호, 그리고 소괄호로 이루어진 문자열 `s`가 매개변수로 주어집니다. 이 `s`를 왼쪽으로 x (0 ≤ x < (`s`의 길이)) 칸만큼 회전시켰을 때 `s`가 올바른 괄호 문자열이 되게 하는 x의 개수를 return 하도록 solution 함수를 완성해주세요.

<br/>

### 제한 조건

- s의 길이는 1 이상 1,000 이하입니다.

<br/>

### 입출력 예

| s          | result |
| ---------- | ------ |
| `"[](){}"` | 3      |
| `"}]()[{"` | 2      |
| `"[)(]"`   | 0      |
| `"}}}"`    | 0      |

<br/>

### 📕 문제 포인트

1. 문자열 `s` 를 현재 문자열과 왼쪽으로 회전 한 칸씩 회전 시킨 문자열이 올바른 문자열인지 검사하여 올바른 문자열 개수를 찾는 문제입니다. 최대 회전 시킬 수 있는 문자열은 현재 문자열 길이 - 1까지입니다. 그 이유는 현재 문자열 길이만큼 회전을 시키면 다시 원래 문자열로 돌아오기 때문입니다.
2. 그렇게 소괄호, 중괄호, 대괄호가 올바르게 닫혀 있는지 검사하여 맞다면 `answer` 를 1 증가시켜줍니다. 이후 최종 `answer` 를 반환해 줍니다. 만약 모든 회전 문자열이 올바르지 않다면 `0` 을 반환합니다.
3. 문자열은 첫 번째 문자열을 꺼내 마지막 문자열에 붙여주는 식으로 회전합니다.
   - ex) ()()[] ⇒ )()[]( ⇒ ()[]() ⇒ )[]()( ⇒ []()()
4. 문자열을 현재 문자열 - 1 길이까지 순회하도록 하며 회전 시키고 회전 시킨 문자열이 올바른지 검사하면 문제를 쉽게 해결할 수 있습니다.

### 📝 문제 풀이

```js
function solution(s) {
  let answer = 0;
  s = s.split("");
  for (let i = 0; i < s.length; i++) {
    const shift = s.shift();
    s.push(shift);

    const stack = [];
    let flag = true;
    for (const a of s) {
      if (a === "(" || a === "{" || a === "[") stack.push(a);
      else {
        const pop = stack.pop();
        if (pop === undefined) {
          flag = false;
          break;
        }
        if (
          (a === ")" && pop !== "(") ||
          (a === "}" && pop !== "{") ||
          (a === "]" && pop !== "[")
        ) {
          flag = false;
          break;
        }
      }
    }

    if (stack.length === 0 && flag) answer++;
  }
  return answer;
}
```
