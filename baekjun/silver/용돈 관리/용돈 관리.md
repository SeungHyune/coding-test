# 용돈 관리

[문제 링크](https://www.acmicpc.net/problem/6236)

### 문제

현우는 용돈을 효율적으로 활용하기 위해 계획을 짜기로 하였다. 현우는 앞으로 N일 동안 자신이 사용할 금액을 계산하였고, 돈을 펑펑 쓰지 않기 위해 정확히 M번만 통장에서 돈을 빼서 쓰기로 하였다. 현우는 통장에서 K원을 인출하며, 통장에서 뺀 돈으로 하루를 보낼 수 있으면 그대로 사용하고, 모자라게 되면 남은 금액은 통장에 집어넣고 다시 K원을 인출한다. 다만 현우는 M이라는 숫자를 좋아하기 때문에, 정확히 M번을 맞추기 위해서 남은 금액이 그날 사용할 금액보다 많더라도 남은 금액은 통장에 집어넣고 다시 K원을 인출할 수 있다. 현우는 돈을 아끼기 위해 인출 금액 K를 최소화하기로 하였다. 현우가 필요한 최소 금액 K를 계산하는 프로그램을 작성하시오.

<br/>

### 입력

1번째 줄에는 N과 M이 공백으로 주어진다. (1 ≤ N ≤ 100,000, 1 ≤ M ≤ N)

2번째 줄부터 총 N개의 줄에는 현우가 i번째 날에 이용할 금액이 주어진다. (1 ≤ 금액 ≤ 10000)

<br/>

### 출력

첫 번째 줄에 현우가 통장에서 인출해야 할 최소 금액 K를 출력한다.

<br/>

### 예제 입력

```jsx
// 예제 입력 1
7 5
100
400
300
100
500
101
400

// 예제 출력 1
500
```

<br/>

### 📕 문제 포인트

1. 임의의 K 값을 `[start, end]` 값을 활용하여 정합니다. 현우는 K 만큼 돈을 인출하여 일주일 계획대로 살아갑니다.
2. 만약 돈이 부족하다면 현재 있는 돈을 저금한 후 K 만큼 다시 출금합니다.
   - 결국 기존 남은 돈은 제거되며 K 만큼 새로운 돈이 쌓입니다. 이때, 출금 횟수도 1회 증가합니다.
   - 만약 하루를 보내는 비용 자체가 K보다 크다면 K로는 적합한 출금 금액이 될 수 없습니다.
3. 일주일간 M 회 이하로 출금하며 생활을 할 수 있는 경우라면 더 적은 출금 금액을 통해서도 생활할 수 있는지 알아봐야 하기 때문에 answer 값을 K로 갱신해 줍니다.
   - 그다음 더 낮은 금액을 K로 설정하기 위해 `end` 값을 `mid - 1`로 세팅해줍니다.
4. 만약 일주일간 M 회 이하로 K 원을 출금하며 생활할 수 없다면 더 큰 출금 금액으로 생활할 수 있기 때문에 `start` 값을 `mid + 1`로 설정하여 더 큰 K로 조회할 수 있도록 합니다.

### 📝 문제 풀이

```js
const fs = require("fs");
const input = fs.readFileSync("/dev/stdin").toString().trim().split("\n");

const [N, M] = input.shift().split(" ").map(Number);
const arr = input.map(Number);

let [start, end] = [1, 100000 * 10000];

let answer;

while (start <= end) {
  const mid = Math.floor((start + end) / 2);

  let money = mid;
  let count = 0;
  let flag = false;

  for (const a of arr) {
    if (money >= a) {
      money -= a;
    } else {
      if (mid < a) {
        // 애초에 K 금액으로 하루를 사용하지 못하는 금액
        flag = true;
      }

      count++;
      money = mid - a;
    }
  }

  if (count <= M - 1 && flag === false) {
    end = mid - 1;
    answer = mid;
  } else {
    start = mid + 1;
  }
}

console.log(answer);
```
